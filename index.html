<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Minas Desk</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <h1>minas desk</h1>

  <nav class="nav-menu">
    <ul>
      <li><a href="about.html">About Me</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </nav>

  <!-- Clickable items -->
  <img class="headphones animate-in" src="headphones.png" onclick="openPopup(['camera1.jpg', 'camera2.jpg', 'camera3.jpg'], 'Headphones', 'Great for music and focus.')" />
  <img class="camera animate-in" src="camera.png" onclick="openPopup(
    ['images/cheese.jpeg', 'images/yum.jpeg', 'images/IMG_0376.jpeg', 'images/just the two of us.jpeg', 'images/running.mp4'], 
    'say cheese!', 
    `These are a few photos from my Canon G7X (even though the image is a Fujifilm lmao). I hope you enjoy looking through them as much as I enjoyed taking them! The last one is a short film in progress. Keep posted!
    <a href='https://c22co.github.io/Photography-Portfolio/' target='_blank'>Click here to see more</a>.`
  )" />

  <img class="shavings animate-in" src="shavings.png" onclick="openPopup(['camera1.jpg', 'camera2.jpg', 'camera3.jpg'], 'What’s left after your masterpiece.')" />
  <img class="pencil animate-in" src="pencil.png" onclick="openPopup(['camera1.jpg', 'camera2.jpg', 'camera3.jpg'], 'Pencil', 'Start your ideas here.')" />
  <img class="laptop animate-in" src="Laptop.png" onclick="openPopup(['images/CAD.png', 'images/code.png', 'images/arduino.png'], 'Laptop', 'On my laptop, I am currently working on ')" />
  <img class="matcha animate-in" src="matcha.png" onclick="openPopup(['images/microfoam.jpeg', 'images/matcha process.mp4', 'images/mixed matcha.jpeg', 'images/matcha strawberry.jpeg', 'images/matcha1.jpeg', 'images/matcha2.mp4'], 'Matcha', 'love love love whisking whisking whisking microfoam microfoam microfoam, i need a good affordable matcha that is not effected by the shortage :( ')" />

    <!-- Single popup -->
    <div id="popup">
        <div class="popup-box" id="popupContent">
            <span class="close-btn" onclick="closePopup()">✖</span>
            
            <div class="carousel-container">
                <button class="carousel-btn" onclick="changeCarousel(-1)">‹</button>
                <div id="carouselMedia" class="carousel-media"></div>
                <button class="carousel-btn" onclick="changeCarousel(1)">›</button>
            </div>

            <h3 id="popupTitle">Title</h3>
            <p id="popupDesc">Description goes here...</p>
        </div>
    </div>

    <script>
        let currentCarouselMedia = [];
        let currentCarouselIndex = 0;

        function openPopup(mediaList, title, desc) {
            currentCarouselMedia = mediaList;
            currentCarouselIndex = 0;

            updateCarouselMedia();
            document.getElementById('popupTitle').textContent = title;
            document.getElementById('popupDesc').innerHTML = desc;
            document.getElementById('popup').style.display = 'flex';
        }

        function changeCarousel(direction) {
            currentCarouselIndex += direction;

            if (currentCarouselIndex < 0) {
            currentCarouselIndex = currentCarouselMedia.length - 1;
            } else if (currentCarouselIndex >= currentCarouselMedia.length) {
            currentCarouselIndex = 0;
            }

            updateCarouselMedia();
        }

        function updateCarouselMedia() {
            const mediaContainer = document.getElementById('carouselMedia');
            mediaContainer.innerHTML = '';

            const current = currentCarouselMedia[currentCarouselIndex];
            let element;

            if (current.endsWith('.mp4') || current.endsWith('.webm') || current.endsWith('.ogg')) {
            element = document.createElement('video');
            element.src = current;
            element.controls = true;
            element.classList.add('carousel-video');
            } else {
            element = document.createElement('img');
            element.src = current;
            element.alt = 'Carousel Media';
            element.classList.add('carousel-image');
            }

            mediaContainer.appendChild(element);
        }

        function closePopup() {
            document.getElementById('popup').style.display = 'none';
        }
    </script>

</body>
</html>
